-- bigram transitions in whole batch

select chunkfeat.value, count(chunkfeat.value) from chunk, chunkfeat, chunk_chunkfeat, batch where chunkfeat.name = 'bigram_transition' and chunk.id = chunk_chunkfeat.chunk_id and chunkfeat.id = chunk_chunkfeat.chunkfeat_id and batch.name = 'test_batch_1' and batch.chunk_id = chunk.id group by(chunkfeat.value) order by count(chunkfeat.value) desc;



-- bigram transitions in script
select chunkfeat.value, count(chunkfeat.value) from chunk, script, chunkfeat, chunk_chunkfeat where script.chunk_id = chunk.id and chunkfeat.name = bigram_transition' and chunk.id = chunk_chunkfeat.chunk_id and chunkfeat.id = chunk_chunkfeat.chunkfeat_id group by(chunkfeat.value) order by count(chunkfeat.value) desc;






select chunkfeat.value, count(chunkfeat.value) from chunk, chunkfeat, chunk_chunkfeat, batch where chunkfeat.name = 'bigram_transition' and chunk.id = chunk_chunkfeat.chunk_id and chunkfeat.id = chunk_chunkfeat.chunkfeat_id and batch.name = 'test_batch_1' and batch.chunk_id = chunk.id and chunk.id in (2457,2548,3568,5869,7730,8689,8745,8927,11705,12040,12449,12457,13004,14367,19369,25186,25887,26432,27429,27723,27811,30754,39424,42659,44797,46666,47474,47654,49416,49421,52895,53530,54911,56074,56085,60485,60547,60570,63460,65062,65314,66256,69816,69910,71010,71011,72318,72386,73094,73377,73869,74347,78986,78997,79021,79432,79442,79501,79522,79733,82023,83828,84107,84137,84807,85556,85712,88689,90499,92447,93683,93856,96711,96790,97563,99613,100847,100915,100936,101743,102962,103734,107671,108915,110453,112352,113683,113972,113974,116619,118928,120201,128248,128431,129952,131162,131947,132217,132756,132987,141927,148289,148765,150533,151713,151814,155249,155785,155788,155792,155796,157768,157948,164271,166889,168454,168487,169631,173793,179837,181508,182166,183974,184597,189989,190264,190844,193015,195544,197314,197406,200206,201558,201804,202251,204573,205628,207068,208757,208855,209291,209517,214435,214623,214649,214892,215524,216089,216578,217336,218271,218318,219421,219821,220361,220419,220460,222254,222424,222909,222915,223080,223503,223855,226526,227004,228129,230730,231186,232589,233218,234803,237853,238413,239303,241256,241829,242027,242474,246487,248568,248710,249271,250403,251740,252438,253218,253265,253645,255641,260485,263202,264209,264694,269007,270866,272192,272243,273350,273525,273713,274966,276331,279090,279202,279612,280189,280928,281235,284339,286643,290826,291045,291068,291171,293121,293161,295291,298436,299677,301011,302255,303027,303393,303577,304986,305243,306070,308424,312524,314326,314806,316366,316576,317985,319201,319879,320388,320506,321200,322380,322594,325216,326799,327286,328345,328936,329274,329601,329865,329918,329930,329954,330986,331781,332891,336355,338871,339450,344738,347037,349859,349951,350008,350553,353870,354047,355972,357065,358365,358746,358750,360393,360620,362553,364490,364851,367340,368032,368345,369412,371493,371618,371633,373624,374117,374685,374759,375755,376116,380755,381669,381686,383241,383286,385935,387914,388551,389921,390168,391598,393266,395933,399774,400584,404192,407101,409408,413133,414873,414991,415007,415132,415142,416154,417093,418195,420675,420700,423259,427339,427416,427482,427956,432045,432085,433060,437035,438531,444602,446836,448670,451427,451619,452251,452398,455707,461144,462380,463102,463525,463941,464863,465582,466119,466418,467374,470853,471618,471951,474179,474261,474295,474793,475037,475168,475318,475955,476081,476579,477810,479400,482549,483148,485337,486541,486727,489889,491437,492689,494894,495221,495231,496127,496142,498423,498802,501273,501563,502162,506267,506277,506659,507856,510114,512057,512079,514890,516999,519793,521783,524152,525629,526581,528732,528946,529458,529786,530404,531749,533886,534826,534899,536580,538624,542174,543546,544112,544945,547229,547327,548641,548933,549668,551652,553513,553736,553793,553824,555013,556117,557264,557747,559617,560590,560655,561750,562637,562927,566115,570760,571046,571960,572931,574753,575440,575866,575963,576447,577809,577854,581675,583862,584379,586322,590281,591630,594225,598321,598974,601510,601515,601566,601573,602044,602064,608409,609724,610940,610963,612669,619483,621210,624375,625736,626325,626858,626870,629092,629206,629703,630781,630868,631246,631471,632026,632393,633457,636294,638270,639469,639547,639624,641394,641490,641598,643805,643869,644918,645011,646433,647223,647232,647399,648389,648937,649491,650995,651346,651451) group by(chunkfeat.value) order by count(chunkfeat.value) desc;
